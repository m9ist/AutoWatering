# Автоматическая поливка растений
На базе датчиков влажности почвы и ардуино сделать систему, которая поливает комнатные растения. С интеграцией с Алисой.

Текущее состояние. Освоена IDE, нарисован прототип экрана, сформулирован список компонентов и функционал.

## Использование
Используйте на свой страх и риск. Автор не компетентен в электронике.

## Начало работы
- Для работы используется связка [VsCode](https://code.visualstudio.com/) + [PlatformIO](https://platformio.org/platformio-ide). Деплой и компиляция осуществляется средствами IDE.
- Cоздать Config.ino !TODO!

### Зачем вы разработали этот проект?
Чтобы был.

## Команда проекта
- tg m9ist

## Компоненты
дисплей
IPS TFT RGB дисплей 1.3" дюйма, 240х240 px, на базе ST7789 цветной
модель ZJY-IPS130-V2.0
схема правильного включения https://simple-circuit.com/wp-content/uploads/2019/06/arduino-st7789-color-tft-240x240-pixel-interfacing-circuit.png

Модуль часов реального времени
модель DS1302
чип DS1307
https://www.nookery.ru/ds1302-in-arduino/

насос
модель R385

драйвера шагового двигателя для насоса
модель MX1508
чип L298N
https://robotchip.ru/obzor-drayvera-motora-na-l298n/

драйвер шагового двигателя для клапанов
WAVGAT ULN2003 драйвер шагового двигателя 5V 4 фазы
model ULN2003

Датчик температуры и влажности
модель GY-SHT30-D
чип SHT30

SD ридер
модель hw-125
чип B108

электромагнитный клапан
dc5v 20190526 HUXUAN 5В

датчик расхода воды
HESAI Water Flow Sensor
модель YF-S401
[дока](https://wiki.iarduino.ru/page/sensor-water-flow/)


Кандидат в датчик влажности почвы. Аналог.
модель FC-28
https://espsmart.ru/blog/15-podkljuchenie-datchika-vlazhnosti-fc-28-k-esp8266.html

Кандидат в датчик влажности почвы TZT. Аналог.
модель YL-69 (?) - то же самое
https://3d-diy.ru/blog/datchik-vlazhnosti-pochvy-arduino/?srsltid=AfmBOopTGEUquAPRKpB6Ttx5A9FN63evuNqrRIelx4QxLuqCEawt0BYT

Кандидат в датчик влажности почвы SZYTF Soil Moisture Sensor. Аналог.
модель HD-38
Датчик временной рефлектометрии TDR
https://github.com/vrxfile/test_arduino_sensors_modules/blob/master/capacitive_moisture_test/capacitive_moisture_test.ino

Кандидат в датчик влажности почвы TENSTAR ROBOT Capacitive. Аналог. v1.2
Емкостной датчик влажности почвы.
Если не давать постоянно напряжение, то нужно 50ms дать на "разогрев" https://wiki.iarduino.ru/page/capacitive-soil-moisture-sensor/
Датчик возвращает инверсное значение: чем больше влажность, тем ниже показания. Максимальные показания  - датчик находится в воздухе, минимальные - датчик находится в воде по линию пиктограммы деревьев (65мм). 

Тумблеры
Пищалка
Датчик освещенности
Кнопки
Предохранители

Подсчет выходов:
|  N | элемент                  | тип | Кол-во    |
|----|--------------------------|-----|-----------|
|  1 | Экран                    | d   | 5         |
|  2 | Модуль реального времени | d   | 3(+2 SPI) |
|  3 | Пищалка                  |     |           |
|  4 | Датчик влаж и темп возд  |     |           |
|  5 | SD карта                 | d   | 1         |
|  6 | Датчик расхода воды      |     |           |
|  7 | Датчик уровня воды       |     |           |
|  8 | Управление помпой        |     |           |
|  9 | Кнопка режима экрана     | d   | 3         |
| 10 | Экран                    |     |           |
| 11 | Экран                    |     |           |

Одно растение
|  N | элемент                          | тип | Кол-во |
|----|----------------------------------|-----|--------|
|  1 | Кнопка принудительного полива    | d   | 1      |
|  2 | Датчик влажности почвы питание   | d   | 1      |
|  3 | Датчик влажности почвы показания | a   | 1      |
|  4 | Управление клапаном              | d   | 1      |
Итого: 3d + 1a
